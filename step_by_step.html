<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Step-by-Step guide to setting up the NLDS client on JASMIN &mdash; Near-Line Data Store Client 1.0.17 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/icon-black.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=84d25509"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Near-Line Data Store Client
              <img src="_static/nlds.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0.17
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Step-by-Step guide to setting up the NLDS client on JASMIN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gaining-access-to-the-nlds-object-store">Gaining access to the NLDS Object Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-nlds-client-on-a-jasmin-scientific-analysis-server">Installing the NLDS client on a JASMIN scientific analysis server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-the-nlds-client">Configuring the NLDS client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-nlds-client-for-the-first-time">Running the NLDS client for the first time</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog_organisation.html">Catalog Organisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="status_codes.html">Status Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_ref.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="hints_tips.html">Hints and Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">NLDS License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Near-Line Data Store Client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Step-by-Step guide to setting up the NLDS client on JASMIN</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/step_by_step.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="step-by-step"></span><section id="step-by-step-guide-to-setting-up-the-nlds-client-on-jasmin">
<h1>Step-by-Step guide to setting up the NLDS client on JASMIN<a class="headerlink" href="#step-by-step-guide-to-setting-up-the-nlds-client-on-jasmin" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In January 2026, a more user friendly method of setting up the NLDS client on
JASMIN rolled out to NLDS users.  This now means that several steps that were
previously in this document are no longer needed.  This document has been shortened
to reflect this.  The improved workflow includes:</p>
<ul class="simple">
<li><p>The access and secret keys required by the object store are now automatically generated by the <code class="docutils literal notranslate"><span class="pre">nlds</span> <span class="pre">init</span></code> command.  The previous workflow of generating the object store access and secret keys is no longer required.</p></li>
<li><p>In addition, the <code class="docutils literal notranslate"><span class="pre">nlds</span> <span class="pre">init</span></code> command will now fill in all of the required values in the <code class="docutils literal notranslate"><span class="pre">~/.nlds-config</span></code> file, including the user and group.  This makes the setting up of the NLDS client much more user-friendly.</p></li>
<li><p>PyPi is now used for hosting the NLDS client, which makes installation much more straightforward for the user.  <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">nlds-client</span></code> can now be used, rather than the long GitHub URL as previously.</p></li>
</ul>
</div>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<p>This document assumes that the user has:</p>
<ol class="arabic simple">
<li><p>A JASMIN user account.  This is covered extensively in the “Getting Started” section of the JASMIN help docs:<br/> <a class="reference external" href="https://help.jasmin.ac.uk/docs/getting-started/">JASMIN : Docs : Getting Started</a>.</p></li>
<li><p>Access to a Group Workspace.  This is covered in the JASMIN docs:<br/> <a class="reference external" href="https://help.jasmin.ac.uk/docs/short-term-project-storage/introduction-to-group-workspaces/">JASMIN : Docs : What is a Group Workspace?</a> <br/> and <br/> <a class="reference external" href="https://help.jasmin.ac.uk/docs/short-term-project-storage/apply-for-access-to-a-gws/">JASMIN : Docs : Apply for access to a GWS</a></p></li>
</ol>
<p>This document will take you through the necessary steps to access NLDS as a JASMIN user:</p>
<ol class="arabic simple">
<li><p>Getting access to the NLDS object storage.</p></li>
<li><p>Installing the NLDS client.</p></li>
<li><p>Running the <code class="docutils literal notranslate"><span class="pre">nlds</span> <span class="pre">init</span></code> command.</p></li>
</ol>
</section>
<section id="gaining-access-to-the-nlds-object-store">
<span id="object-store"></span><h2>Gaining access to the NLDS Object Store<a class="headerlink" href="#gaining-access-to-the-nlds-object-store" title="Permalink to this heading"></a></h2>
<p>Before proceeding, please read the JASMIN help documentation on the Object Store:
<a class="reference external" href="https://help.jasmin.ac.uk/docs/short-term-project-storage/using-the-jasmin-object-store/">JASMIN : Docs : Object Store</a>.</p>
<p>You will require access to the Object Store that is used by NLDS to store files before they are put to tape, and after they are retrieved from tape.  Getting access keys is now handled by the <cite>nlds init</cite> command, but access to the Object Store must still be requested by the user.  To do this:</p>
<ol class="arabic simple">
<li><p>Log into the JASMIN accounts portal at <a class="reference external" href="https://accounts.jasmin.ac.uk">accounts.jasmin.ac.uk</a></p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">services</span></code> and click on <code class="docutils literal notranslate"><span class="pre">Object</span> <span class="pre">Store</span></code> in the left-hand gray column.  You will see this screen:</p></li>
</ol>
<a class="reference internal image-reference" href="_images/obj_store.png"><img alt="_images/obj_store.png" class="align-center" src="_images/obj_store.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="3">
<li><p>Search for the tenancy <code class="docutils literal notranslate"><span class="pre">nlds-cache-01-o</span></code>.  Click <code class="docutils literal notranslate"><span class="pre">More</span> <span class="pre">information</span></code>, then <code class="docutils literal notranslate"><span class="pre">Apply</span></code>.  This will make a request to the JASMIN team, who will inform you of their decision.  You need to await the outcome of this decision before proceeding to the next step.</p></li>
</ol>
</section>
<section id="installing-the-nlds-client-on-a-jasmin-scientific-analysis-server">
<span id="installing-nlds-client"></span><h2>Installing the NLDS client on a JASMIN scientific analysis server<a class="headerlink" href="#installing-the-nlds-client-on-a-jasmin-scientific-analysis-server" title="Permalink to this heading"></a></h2>
<p>First, please familiarise yourself with the JASMIN documentation on the scientific analysis servers: <a class="reference external" href="https://help.jasmin.ac.uk/docs/interactive-computing/sci-servers/">JASMIN : Docs : Scientific analysis servers</a>. <br/>
We suggest that you use one of the <code class="docutils literal notranslate"><span class="pre">sci-vm-0x</span></code> servers to set up and use the NLDS client.  An alternative is to use the JASMIN transfer servers (<code class="docutils literal notranslate"><span class="pre">xfer-vm-0x</span></code>), if it suits your workflow more.  Details of these are here: <a class="reference external" href="https://help.jasmin.ac.uk/docs/interactive-computing/transfer-servers/">JASMIN : Docs : Transfer servers</a>. <br/> Creating the virtual-evironment in your home directory will ensure that it is available from both the scientific analysis servers or the transfer servers.</p>
<ol class="arabic simple">
<li><p>Log into your chosen scientific analysis server:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>ssh<span class="w"> </span>&lt;username&gt;@sci-vm-01.jasmin.ac.uk
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Follow the installation instructions here: <a class="reference internal" href="installation.html#installation"><span class="std std-ref">NLDS : Docs : Installation</span></a>.  On JASMIN, an up-to-date Python must be activated by using <cite>module load</cite>.  These steps are reproduced below:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>
&gt;<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>jaspy
&gt;<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>~/nlds-client
&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/nlds-client/bin/activate
&gt;<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
&gt;<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>nlds-client
</pre></div>
</div>
</section>
<section id="configuring-the-nlds-client">
<span id="configuring-nlds-client"></span><h2>Configuring the NLDS client<a class="headerlink" href="#configuring-the-nlds-client" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>First make sure your are running the <code class="docutils literal notranslate"><span class="pre">nlds-client</span></code> virtual-environment that you created above.  If you are not running it then issue the command:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/nlds-client/bin/activate
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Run NLDS with the <code class="docutils literal notranslate"><span class="pre">init</span></code> command to create your NLDS config file.  This file will be in your home directory with the name <code class="docutils literal notranslate"><span class="pre">.nlds-config</span></code>.  The full path is <code class="docutils literal notranslate"><span class="pre">~/.nlds-config</span></code>, also <code class="docutils literal notranslate"><span class="pre">$HOME/.nlds-config</span></code>.  Use the <code class="docutils literal notranslate"><span class="pre">-g|--group</span></code> option to specify the default Group Workspace (GWS) when you are working with NLDS.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>nlds<span class="w"> </span>init<span class="w"> </span>-g<span class="w"> </span>&lt;default<span class="w"> </span>gws&gt;
</pre></div>
</div>
<p>This will produce the following text, and the password prompt at the end.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Initialising the Near-line Data Store...
• This application uses OAuth2 to authenticate with the server on your behalf.
• To do this it needs your password.  Your password is not stored.
• It is used to obtain an access token, which is stored in the file: ~/.nlds-token, and used for subsequent interactions with the server.
• It is also used to obtain object storage keys.  These are stored in the configuration file: ~/.nlds-config and used for interaction with the object storage cache.

Password:
</pre></div>
</div>
<p>Enter your JASMIN accounts password.  The user name is automatically read in from your JASMIN login username.  The following text will be output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully initialised, the config file at ~/.nlds-config has been updated with all of the necessary information to start using the NLDS.
</pre></div>
</div>
<p>You can now examine the config file with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>nano<span class="w"> </span>~/.nlds-config
</pre></div>
</div>
<p>The file should look like the below example.  Fields between <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">&gt;</span></code> characters should have values in them.  If these fields contain the characters <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">}}</span></code> then please delete the <code class="docutils literal notranslate"><span class="pre">~/.nlds-config</span></code> file and try <code class="docutils literal notranslate"><span class="pre">nlds</span> <span class="pre">init</span> <span class="pre">-g</span> <span class="pre">&lt;gws&gt;</span></code> again.  If this fails again then please contact the JASMIN helpdesk.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://nlds.jasmin.ac.uk&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;api&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;api/1.0.0&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;default_user&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; your JASMIN username &gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;default_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; your default GWS &gt;&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;authentication&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;oauth_client_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; redacted &gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_client_secret&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; redacted &gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_token_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; redacted &gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_scopes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; redacted &gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_token_file_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;~/.nlds-token&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;object_storage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;tenancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nlds-cache-01.s3.jc.rl.ac.uk&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;access_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; redacted &gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;secret_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt; redacted &gt;&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;verify_certificates&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="running-the-nlds-client-for-the-first-time">
<h2>Running the NLDS client for the first time<a class="headerlink" href="#running-the-nlds-client-for-the-first-time" title="Permalink to this heading"></a></h2>
<p>You should now have a fully configured and functioning NLDS client.  You can now run the NLDS client for the first time.  Make sure the Python virtual-environment you created in <a class="reference internal" href="#installing-nlds-client"><span class="std std-ref">NLDS : Docs : Installing the NLDS client</span></a> is activated first, and then run <code class="docutils literal notranslate"><span class="pre">nlds</span></code> with the command <code class="docutils literal notranslate"><span class="pre">stat</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/nlds-client/bin/activate
&gt;<span class="w"> </span>nlds<span class="w"> </span>stat
</pre></div>
</div>
<p>The following text will be shown:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Usage: nlds stat [OPTIONS]
Try &#39;nlds stat --help&#39; for help.

Error: Failed to get status of transaction(s) with user:&lt;user&gt;, group:&lt;gws&gt;
Reason: no transaction records found for user:&lt; user &gt; and group:&lt; gws &gt;
</pre></div>
</div>
<p>Because you issued the <code class="docutils literal notranslate"><span class="pre">stat</span></code> command with <code class="docutils literal notranslate"><span class="pre">nlds</span></code>, the status of all your NLDS requests will be shown.  This is empty, as this is the first time you have run NLDS, and the error message reflects this by stating <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">transaction</span> <span class="pre">records</span> <span class="pre">found</span></code>.</p>
</section>
<section id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading"></a></h2>
<p>Now that you have the NLDS client set up on JASMIN, you can go through the tutorial: <a class="reference internal" href="tutorial.html#tutorial"><span class="std std-ref">NLDS : Docs : Tutorial</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2026, Centre for Environmental Data Analysis, Science and Technologies Facilities Council, UK Research and Innovation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #A6C36F;
    }

    .caption-text {
        color: #828C51
    }

    .wy-nav-side {
        background: #1E352F;
    }

    a {
        color: #828C51
    }

    .note {
        background: #BEEF9E
    }
    .admonition-title {
        background: #335145
    }

  </style>


</body>
</html>