<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Step-by-Step guide to setting up the NLDS client on JASMIN &mdash; Near-Line Data Store Client 1.0.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/icon-black.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=f7257fce"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Configuration File" href="configuration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Near-Line Data Store Client
              <img src="_static/nlds.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0.5
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration File</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Step-by-Step guide to setting up the NLDS client on JASMIN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-a-jasmin-user-account">Getting a JASMIN user account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-access-to-a-group-workspace">Getting access to a Group Workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="#access-to-the-object-store">Access to the Object Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-nlds-client-on-a-jasmin-scientific-analysis-server">Installing the NLDS client on a JASMIN scientific analysis server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-the-nlds-client">Configuring the NLDS client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-nlds-client-for-the-first-time">Running the NLDS client for the first time</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog_organisation.html">Catalog Organisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="status_codes.html">Status Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_ref.html">Command Line Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">NLDS License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Near-Line Data Store Client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Step-by-Step guide to setting up the NLDS client on JASMIN</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/step_by_step.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="step-by-step-guide-to-setting-up-the-nlds-client-on-jasmin">
<h1>Step-by-Step guide to setting up the NLDS client on JASMIN<a class="headerlink" href="#step-by-step-guide-to-setting-up-the-nlds-client-on-jasmin" title="Permalink to this heading"></a></h1>
<p>Setting up the NLDS client on JASMIN, so that users can access NLDS, is a multi-step process, using a number of access portals.  This guide will take you through the process step-by-step.</p>
<p>To use the NLDS, you, as a JASMIN user, will require the following:</p>
<ol class="arabic simple">
<li><p>A JASMIN user account.</p></li>
<li><p>Access to the Group Workspace that holds the files you wish to put into the NLDS.</p></li>
<li><p>Access to the Object Store for the NLDS tenancy, including generated access keys.</p></li>
<li><p>An installed and configured NLDS client.</p></li>
</ol>
<p>The following sections will deal with each of these in turn.</p>
<section id="getting-a-jasmin-user-account">
<span id="user-account"></span><h2>Getting a JASMIN user account<a class="headerlink" href="#getting-a-jasmin-user-account" title="Permalink to this heading"></a></h2>
<p>This is covered extensively in the “Getting Started” section of the JASMIN help docs:
<a class="reference external" href="https://help.jasmin.ac.uk/docs/getting-started/">JASMIN : Docs : Getting Started</a>.</p>
<a class="reference internal image-reference" href="_images/jasmin_help.png"><img alt="_images/jasmin_help.png" class="align-center" src="_images/jasmin_help.png" style="width: 50%;" /></a>
</section>
<section id="getting-access-to-a-group-workspace">
<span id="gws-access"></span><h2>Getting access to a Group Workspace<a class="headerlink" href="#getting-access-to-a-group-workspace" title="Permalink to this heading"></a></h2>
<p>Before proceeding, please read the JASMIN introduction to Group Workspaces:
<a class="reference external" href="https://help.jasmin.ac.uk/docs/short-term-project-storage/introduction-to-group-workspaces/">JASMIN : Docs : What is a Group Workspace?</a></p>
<p>Once you have access to JASMIN, you will need to apply for access to the Group Workspace (GWS) that you wish to put files into the NLDS from, and also as a location to retrieve files from the NLDS to.
This is done via the JASMIN accounts portal:</p>
<ol class="arabic simple">
<li><p>Log into the JASMIN accounts portal: <a class="reference external" href="https://accounts.jasmin.ac.uk">accounts.jasmin.ac.uk</a></p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">JASMIN</span> <span class="pre">account</span></code>.  You should see this screen:</p></li>
</ol>
<a class="reference internal image-reference" href="_images/jasmin_accounts.png"><img alt="_images/jasmin_accounts.png" class="align-center" src="_images/jasmin_accounts.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="3">
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">services</span></code> then <code class="docutils literal notranslate"><span class="pre">Group</span> <span class="pre">Workspaces</span></code> on the next screen, in the left-hand gray column.  You will see this screen:</p></li>
</ol>
<a class="reference internal image-reference" href="_images/gws.png"><img alt="_images/gws.png" class="align-center" src="_images/gws.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="4">
<li><p>Search for the Group Workspace in the search bar, and then click <code class="docutils literal notranslate"><span class="pre">More</span> <span class="pre">Information</span></code> for the GWS you wish to join.</p></li>
</ol>
<a class="reference internal image-reference" href="_images/gws_join.png"><img alt="_images/gws_join.png" class="align-center" src="_images/gws_join.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="5">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Apply</span> <span class="pre">for</span> <span class="pre">Access</span></code>, fill out the form and click <code class="docutils literal notranslate"><span class="pre">Apply</span></code>.  This will make a request to the GWS Manager, who will answer your request and either confirm or deny your access to the GWS.  You need to await an email detailing the outcome of this decision before proceeding to the next step.</p></li>
</ol>
</section>
<section id="access-to-the-object-store">
<span id="object-store-access"></span><h2>Access to the Object Store<a class="headerlink" href="#access-to-the-object-store" title="Permalink to this heading"></a></h2>
<p>Before proceeding, please read the JASMIN help documentation on the Object Store:
<a class="reference external" href="https://help.jasmin.ac.uk/docs/short-term-project-storage/using-the-jasmin-object-store/">JASMIN : Docs : Object Store</a>.</p>
<p>You will require access to the Object Store that is used by NLDS to store files before they are put to tape, and after they are retrieved from tape.  To gain access two keys are required: the <code class="docutils literal notranslate"><span class="pre">access</span> <span class="pre">key</span></code> and the <code class="docutils literal notranslate"><span class="pre">secret</span> <span class="pre">key</span></code>.  These are obtained by interacting with the Object Store portal but, before that, you must apply for access to the NLDS tenancy on the Object Store.  A tenancy is the name of an allocated area of space on the Object Store.</p>
<ol class="arabic simple">
<li><p>Follow steps <code class="docutils literal notranslate"><span class="pre">1</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">2</span></code> in <a class="reference internal" href="#gws-access"><span class="std std-ref">Getting access to a Group Workspace</span></a>.</p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">My</span> <span class="pre">services</span></code> and click on <code class="docutils literal notranslate"><span class="pre">Object</span> <span class="pre">Store</span></code> in the left-hand gray column.  You will see this screen:</p></li>
</ol>
<a class="reference internal image-reference" href="_images/obj_store.png"><img alt="_images/obj_store.png" class="align-center" src="_images/obj_store.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="3">
<li><p>Search for the tenancy <code class="docutils literal notranslate"><span class="pre">nlds-cache-01-o</span></code>.  Click <code class="docutils literal notranslate"><span class="pre">More</span> <span class="pre">information</span></code>, then <code class="docutils literal notranslate"><span class="pre">Apply</span></code>.  This will make a request to the JASMIN team, who will inform you of their decision.  You need to await the outcome of this decision before proceeding to the next step.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are taking part in the NLDS beta testing program, then you will have to apply for the tenancy <code class="docutils literal notranslate"><span class="pre">nlds-staging-o</span></code>.  In subsequent instructions, replace <code class="docutils literal notranslate"><span class="pre">nlds-cache-01-o</span></code> with <code class="docutils literal notranslate"><span class="pre">nlds-staging-o`</span></code>.  Once the beta test has concluded, you will be able to create your access to the <code class="docutils literal notranslate"><span class="pre">nlds-cache-01-o</span></code> Object Storage, and edit your configuration files to reflect this.</p>
</div>
<ol class="arabic simple" start="4">
<li><p>Log into the <a class="reference external" href="https://s3-portal.jasmin.ac.uk">JASMIN Object Store portal</a> using your web-browser.  Use your regular JASMIN account username and password.</p></li>
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">Object</span> <span class="pre">Stores</span></code> blue button.  You will be presented with a list of your Object Store tenancies.</p></li>
</ol>
<a class="reference internal image-reference" href="_images/jasmin_obj_store_01.png"><img alt="_images/jasmin_obj_store_01.png" class="align-center" src="_images/jasmin_obj_store_01.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="6">
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">Manage</span> <span class="pre">Object</span> <span class="pre">Store</span></code> blue button for the <code class="docutils literal notranslate"><span class="pre">nlds-cache-01-o</span></code> tenancy.  You may have to re-enter your JASMIN accounts password.</p></li>
</ol>
<p>You will be presented with this screen:</p>
<a class="reference internal image-reference" href="_images/jasmin_obj_store_02.png"><img alt="_images/jasmin_obj_store_02.png" class="align-center" src="_images/jasmin_obj_store_02.png" style="width: 50%;" /></a>
<p>Click on the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">Key</span></code> tab at the top of the table.</p>
<ol class="arabic simple" start="7">
<li><p>Fill in the Description and an expiry-date and click <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">Access</span> <span class="pre">Key</span></code>.</p></li>
</ol>
<a class="reference internal image-reference" href="_images/jasmin_obj_store_03.png"><img alt="_images/jasmin_obj_store_03.png" class="align-center" src="_images/jasmin_obj_store_03.png" style="width: 50%;" /></a>
<ol class="arabic simple" start="8">
<li><p>You will be presented with a pop-up declaring <strong>Successfully created Secret and Access Keys</strong>.  Carefully copy the <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">Key</span></code> and the <code class="docutils literal notranslate"><span class="pre">S3</span> <span class="pre">Secret</span> <span class="pre">Key</span></code> and store them somewhere safe, preferably in a password manager.  <strong>Heed the warning</strong> - you will not be able to see the <code class="docutils literal notranslate"><span class="pre">S3</span> <span class="pre">Secret</span> <span class="pre">Key</span></code> again.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are taking part in the NLDS beta testing program, then you will have to create keys for the <code class="docutils literal notranslate"><span class="pre">nlds-staging-o`</span></code> tenancy. Once the beta test has concluded, you will be able to create keys for the <code class="docutils literal notranslate"><span class="pre">nlds-cache-01-o</span></code> tenancy, and edit your configuration files to reflect this.</p>
</div>
<p>You now have access to the Object Store tenancy for NLDS, and have generated a pair of keys that will allow you to access it from the NLDS client.</p>
</section>
<section id="installing-the-nlds-client-on-a-jasmin-scientific-analysis-server">
<span id="installing-nlds-client"></span><h2>Installing the NLDS client on a JASMIN scientific analysis server<a class="headerlink" href="#installing-the-nlds-client-on-a-jasmin-scientific-analysis-server" title="Permalink to this heading"></a></h2>
<p>First, please familiarise yourself with the JASMIN documentation on the scientific analysis servers: <a class="reference external" href="https://help.jasmin.ac.uk/docs/interactive-computing/sci-servers/">JASMIN : Docs : Scientific analysis servers</a>
We suggest that you use one of the <code class="docutils literal notranslate"><span class="pre">sci-vm-0x</span></code> servers to set up and use the NLDS client.  An alternative is to use the JASMIN transfer servers, if it suits your workflow more.  Details of these are here: <cite>JASMIN : Docs : Transfer servers &lt;https://help.jasmin.ac.uk/docs/interactive-computing/transfer-servers/&gt;</cite>.  Creating the virtual-evironment in your home directory means that it is available from both the scientific analysis servers or the transfer servers.</p>
<ol class="arabic simple">
<li><p>Log into your chosen scientific analysis server:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>ssh<span class="w"> </span>&lt;username&gt;@sci-vm-01.jasmin.ac.uk
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Follow the installation instructions here: <a class="reference internal" href="installation.html#installation"><span class="std std-ref">NLDS : Docs : Installation</span></a>.  The steps are reproduced below:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>~/nlds-client
&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/nlds-client/bin/activate
&gt;<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
&gt;<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/cedadev/nlds-client.git
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The installation procedure for the NLDS client will likely change when NLDS is in full production.  You may have to reinstall your client.</p>
</div>
</section>
<section id="configuring-the-nlds-client">
<span id="configuring-nlds-client"></span><h2>Configuring the NLDS client<a class="headerlink" href="#configuring-the-nlds-client" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>First make sure your are running the <code class="docutils literal notranslate"><span class="pre">nlds-client</span></code> virtual-environment that you created above.  If you are not running it then issue the command:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/nlds-client/bin/activate
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Run NLDS with the init command to create your NLDS config file.  This file will be in your home directory with the name <code class="docutils literal notranslate"><span class="pre">.nlds-config</span></code>.  The full path is <code class="docutils literal notranslate"><span class="pre">~/.nlds-config</span></code>, also <code class="docutils literal notranslate"><span class="pre">$HOME/.nlds-config</span></code>.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>nlds<span class="w"> </span>init
</pre></div>
</div>
<p>This produces the output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Initialising the Near-line Data Store...

Successfully initialised, the config file at ~/.nlds-config has been updated with some of the necessary information to start using the NLDS.

You may still need to manually update the fields:
- user.default_user
- user.default_group
- object_storage.access_key
- object_storage.secret_key
- object_storage.tenancy (will default to nlds-cache-02 if not set)

The latter three values can be obtained from the object store portal for any object stores you have access to (https://s3-portal.jasmin.ac.uk/).
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are taking part in the NLDS beta testing program, you will also need to specify a URL with the <code class="docutils literal notranslate"><span class="pre">-u</span></code> switch and turn off SSL verification with the <code class="docutils literal notranslate"><span class="pre">-k</span></code> flag, so your init command will look a bit like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span>nlds<span class="w"> </span>init<span class="w"> </span>-u<span class="w"> </span><span class="o">{{</span><span class="w"> </span>nlds-testing-url<span class="w"> </span><span class="o">}}</span><span class="w"> </span>-k
</pre></div>
</div>
<p>but with the <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">nlds-testing-url</span> <span class="pre">}}</span></code> replaced with the URL provided to you by in the invitation email.</p>
</div>
<ol class="arabic simple" start="3">
<li><p>Edit the file at <code class="docutils literal notranslate"><span class="pre">~/.nlds-config</span></code> to add some extra information.  The file looks like this:</p></li>
</ol>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://nlds.jasmin.ac.uk&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;api&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;api/0.1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;default_user&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ user }}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;default_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ group }}&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;authentication&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;oauth_client_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;redacted&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_client_secret&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;redacted&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_token_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;redacted&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_scopes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;redacted&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;oauth_token_file_location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;~/.nlds-token&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;object_storage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;access_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ os_access_key }}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;secret_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ os_secret_key }}&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;verify_certificates&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The fields marked <code class="docutils literal notranslate"><span class="pre">&lt;redacted&gt;</span></code> will have values in your file, we have removed them from this document for security reasons.  The information you need to add is the values for <code class="docutils literal notranslate"><span class="pre">default_user</span></code>, <code class="docutils literal notranslate"><span class="pre">default_group</span></code>, <code class="docutils literal notranslate"><span class="pre">access_key</span></code> and <code class="docutils literal notranslate"><span class="pre">secret_key</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">default_user</span></code> : replace <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">user</span> <span class="pre">}}</span></code> with your JASMIN username.  This can be overriden by using the <code class="docutils literal notranslate"><span class="pre">-u</span></code> command line option with the <code class="docutils literal notranslate"><span class="pre">nlds</span></code> client.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default_group</span></code> : replace <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">group</span> <span class="pre">}}</span></code> with the name of the Group Workspace you will be using most often.  This can be overriden by using the <code class="docutils literal notranslate"><span class="pre">-g</span></code> option with the <code class="docutils literal notranslate"><span class="pre">nlds</span></code> client.  This is the name as it appears in the path of the Group Workspace.  <strong>It does not include the ``gws_``</strong> part.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">access_key</span></code> : replace <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">os_access_key</span> <span class="pre">}}</span></code> with the value of <code class="docutils literal notranslate"><span class="pre">Access</span> <span class="pre">Key</span></code> you created in step 8 of <a class="reference internal" href="#object-store-access"><span class="std std-ref">Access to the Object Store</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">secret_key</span></code> : replace <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">os_secret_key</span> <span class="pre">}}</span></code> with the value of <code class="docutils literal notranslate"><span class="pre">S3</span> <span class="pre">Secret</span> <span class="pre">Key</span></code> you created in step 8 of <a class="reference internal" href="#object-store-access"><span class="std std-ref">Access to the Object Store</span></a>.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are taking part in the NLDS beta testing program, then you will have to add an extra line in the <code class="docutils literal notranslate"><span class="pre">user</span></code> part of the config.  This is for the <code class="docutils literal notranslate"><span class="pre">tenancy</span></code>, which should be set to <code class="docutils literal notranslate"><span class="pre">nlds-staging-o`</span></code>.  i.e.:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;default_user&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ user }}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;default_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ group }}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tenancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nlds-staging-o`&quot;</span>
<span class="p">},</span>
</pre></div>
</div>
<p>(Don’t forget the extra comma after <code class="docutils literal notranslate"><span class="pre">group</span></code>!)</p>
<p>You also need to change the <code class="docutils literal notranslate"><span class="pre">verify_certificates</span></code> option to <code class="docutils literal notranslate"><span class="pre">false</span></code>:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;verify_certificates&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="running-the-nlds-client-for-the-first-time">
<h2>Running the NLDS client for the first time<a class="headerlink" href="#running-the-nlds-client-for-the-first-time" title="Permalink to this heading"></a></h2>
<p>You should now have a fully configured and functioning NLDS client.  You can now run the NLDS client for the first time.  Make sure the Python virtual-environment you created in <a class="reference internal" href="#installing-nlds-client"><span class="std std-ref">Installing the NLDS client</span></a> is activated first, and then run <code class="docutils literal notranslate"><span class="pre">nlds</span></code> with the command <code class="docutils literal notranslate"><span class="pre">stat</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/nlds-client/bin/activate
&gt;<span class="w"> </span>nlds<span class="w"> </span>stat
</pre></div>
</div>
<p>You will see the following output:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>This application uses OAuth2 to authenticate with the server on your behalf.
To do this it needs your username and password.
Your password is not stored.  It is used to obtain an access token, which is stored in the file: ~/.nlds-token
Username:
Password:
</pre></div>
</div>
<p>Fill in your JASMIN username and password.  This will now create the file at <code class="docutils literal notranslate"><span class="pre">~/.nlds-token</span></code>.  You can examine this file using a text editor.  Note that the contents of this file will change every 24 hours or so, as the token is refreshed.</p>
<p>Because you issued the <code class="docutils literal notranslate"><span class="pre">stat</span></code> command with <code class="docutils literal notranslate"><span class="pre">nlds</span></code>, the status of all your NLDS requests will be shown.  This should be empty, as this is the first time you have run NLDS.</p>
</section>
<section id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading"></a></h2>
<p>Now that you have the NLDS client set up on JASMIN, you can go through the tutorial: <a class="reference internal" href="tutorial.html#tutorial"><span class="std std-ref">NLDS : Docs : Tutorial</span></a>.  Because you have worked through this guide, you can skip the first 3 sections, and start at <a class="reference internal" href="tutorial.html#catalog"><span class="std std-ref">NLDS : Docs : Catalog</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuration.html" class="btn btn-neutral float-left" title="Configuration File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Centre for Environmental Data Analysis, Science and Technologies Facilities Council, UK Research and Innovation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #A6C36F;
    }

    .caption-text {
        color: #828C51
    }

    .wy-nav-side {
        background: #1E352F;
    }

    a {
        color: #828C51
    }

    .note {
        background: #BEEF9E
    }
    .admonition-title {
        background: #335145
    }

  </style>


</body>
</html>